(this["webpackJsonpgull-react"]=this["webpackJsonpgull-react"]||[]).push([[42],{2568:function(e,t,a){var n,l,r;window,e.exports=(n=a(3),l=a(0),r=a(2569),function(e){var t={};function a(n){if(t[n])return t[n].exports;var l=t[n]={i:n,l:!1,exports:{}};return e[n].call(l.exports,l,l.exports,a),l.l=!0,l.exports}return a.m=e,a.c=t,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var l in e)a.d(n,l,function(t){return e[t]}.bind(null,l));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=3)}([function(e,t){e.exports=n},function(e,t){e.exports=l},function(e,t){e.exports=r},function(e,t,a){"use strict";a.r(t);var n=a(1),l=a.n(n),r=a(0),i=a.n(r),o=a(2),c=a.n(o);function u(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?u(Object(a),!0).forEach((function(t){d(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function d(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var a=[],n=!0,l=!1,r=void 0;try{for(var i,o=e[Symbol.iterator]();!(n=(i=o.next()).done)&&(a.push(i.value),!t||a.length!==t);n=!0);}catch(e){l=!0,r=e}finally{try{n||null==o.return||o.return()}finally{if(l)throw r}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return v(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?v(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var f={element:i.a.any,date:i.a.oneOfType([i.a.string,i.a.number,i.a.array,i.a.object]),format:i.a.string,toJSON:i.a.bool,toISOString:i.a.bool,asString:i.a.bool,unixSeconds:i.a.bool,unixMilliseconds:i.a.bool,daysInMonth:i.a.bool,displayIsValid:i.a.bool,add:i.a.object,subtract:i.a.object,children:i.a.string},b=function(e){var t=m(Object(n.useState)({value:""}),2),a=t[0],r=t[1];Object(n.useEffect)((function(){!function(){var t=e.date,a=e.format,n=e.children,l=e.add,i=e.subtract,o=e.daysInMonth,u=e.toJSON,d=e.toISOString,m=e.asString,v=e.unixSeconds,f=e.unixMilliseconds,b=e.displayIsValid,p=function(e,t){return t?c()(t):e?c()(e):c()()}(t,n);l&&(p=function(e,t){return Object.keys(t).reduce((function(e,a){return e.add(t[a],a)}),e)}(p,l)),i&&(p=function(e,t){return Object.keys(t).reduce((function(e,a){return e.subtract(t[a],a)}),e)}(p,i)),r(b?function(e){return s(s({},e),{},{value:"".concat(p.isValid())})}:o?function(e){return s(s({},e),{},{value:p.daysInMonth()})}:u?function(e){return s(s({},e),{},{value:p.toJSON()})}:d?function(e){return s(s({},e),{},{value:p.toISOString()})}:m?function(e){return s(s({},e),{},{value:p.toString()})}:f?function(e){return s(s({},e),{},{value:p.valueOf()})}:v?function(e){return s(s({},e),{},{value:p.unix()})}:a?function(e){return s(s({},e),{},{value:p.format(a)})}:function(e){return s(s({},e),{},{value:p.format()})})}()}),[]);var i,o,u,d,v=(i=e,o=f,u=Object.keys(o),d=Object.assign({},i),Object.keys(d).filter((function(e){return-1!==u.indexOf(e)})).forEach((function(e){return delete d[e]})),d);return l.a.createElement(e.element,v,a.value)};b.propTypes=f,b.defaultProps={element:"time",date:null,format:null,toJSON:!1,toISOString:!1,asString:!1,unixSeconds:!1,unixMilliseconds:!1,daysInMonth:!1,displayIsValid:!1,add:null,subtract:null,children:null},t.default=b}]))},2569:function(e,t,a){e.exports=function(){"use strict";var e=6e4,t=36e5,a="millisecond",n="second",l="minute",r="hour",i="day",o="week",c="month",u="quarter",s="year",d="date",m="Invalid Date",v=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,f=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,b={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},p=function(e,t,a){var n=String(e);return!n||n.length>=t?e:""+Array(t+1-n.length).join(a)+e},E={s:p,z:function(e){var t=-e.utcOffset(),a=Math.abs(t),n=Math.floor(a/60),l=a%60;return(t<=0?"+":"-")+p(n,2,"0")+":"+p(l,2,"0")},m:function e(t,a){if(t.date()<a.date())return-e(a,t);var n=12*(a.year()-t.year())+(a.month()-t.month()),l=t.clone().add(n,c),r=a-l<0,i=t.clone().add(n+(r?-1:1),c);return+(-(n+(a-l)/(r?l-i:i-l))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:c,y:s,w:o,d:i,D:d,h:r,m:l,s:n,ms:a,Q:u}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},h="en",y={};y[h]=b;var g=function(e){return e instanceof j},N=function(e,t,a){var n;if(!e)return h;if("string"==typeof e)y[e]&&(n=e),t&&(y[e]=t,n=e);else{var l=e.name;y[l]=e,n=l}return!a&&n&&(h=n),n||!a&&h},O=function(e,t){if(g(e))return e.clone();var a="object"==typeof t?t:{};return a.date=e,a.args=arguments,new j(a)},x=E;x.l=N,x.i=g,x.w=function(e,t){return O(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var j=function(){function b(e){this.$L=N(e.locale,null,!0),this.parse(e)}var p=b.prototype;return p.parse=function(e){this.$d=function(e){var t=e.date,a=e.utc;if(null===t)return new Date(NaN);if(x.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var n=t.match(v);if(n){var l=n[2]-1||0,r=(n[7]||"0").substring(0,3);return a?new Date(Date.UTC(n[1],l,n[3]||1,n[4]||0,n[5]||0,n[6]||0,r)):new Date(n[1],l,n[3]||1,n[4]||0,n[5]||0,n[6]||0,r)}}return new Date(t)}(e),this.$x=e.x||{},this.init()},p.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},p.$utils=function(){return x},p.isValid=function(){return!(this.$d.toString()===m)},p.isSame=function(e,t){var a=O(e);return this.startOf(t)<=a&&a<=this.endOf(t)},p.isAfter=function(e,t){return O(e)<this.startOf(t)},p.isBefore=function(e,t){return this.endOf(t)<O(e)},p.$g=function(e,t,a){return x.u(e)?this[t]:this.set(a,e)},p.unix=function(){return Math.floor(this.valueOf()/1e3)},p.valueOf=function(){return this.$d.getTime()},p.startOf=function(e,t){var a=this,u=!!x.u(t)||t,m=x.p(e),v=function(e,t){var n=x.w(a.$u?Date.UTC(a.$y,t,e):new Date(a.$y,t,e),a);return u?n:n.endOf(i)},f=function(e,t){return x.w(a.toDate()[e].apply(a.toDate("s"),(u?[0,0,0,0]:[23,59,59,999]).slice(t)),a)},b=this.$W,p=this.$M,E=this.$D,h="set"+(this.$u?"UTC":"");switch(m){case s:return u?v(1,0):v(31,11);case c:return u?v(1,p):v(0,p+1);case o:var y=this.$locale().weekStart||0,g=(b<y?b+7:b)-y;return v(u?E-g:E+(6-g),p);case i:case d:return f(h+"Hours",0);case r:return f(h+"Minutes",1);case l:return f(h+"Seconds",2);case n:return f(h+"Milliseconds",3);default:return this.clone()}},p.endOf=function(e){return this.startOf(e,!1)},p.$set=function(e,t){var o,u=x.p(e),m="set"+(this.$u?"UTC":""),v=(o={},o[i]=m+"Date",o[d]=m+"Date",o[c]=m+"Month",o[s]=m+"FullYear",o[r]=m+"Hours",o[l]=m+"Minutes",o[n]=m+"Seconds",o[a]=m+"Milliseconds",o)[u],f=u===i?this.$D+(t-this.$W):t;if(u===c||u===s){var b=this.clone().set(d,1);b.$d[v](f),b.init(),this.$d=b.set(d,Math.min(this.$D,b.daysInMonth())).$d}else v&&this.$d[v](f);return this.init(),this},p.set=function(e,t){return this.clone().$set(e,t)},p.get=function(e){return this[x.p(e)]()},p.add=function(a,u){var d,m=this;a=Number(a);var v=x.p(u),f=function(e){var t=O(m);return x.w(t.date(t.date()+Math.round(e*a)),m)};if(v===c)return this.set(c,this.$M+a);if(v===s)return this.set(s,this.$y+a);if(v===i)return f(1);if(v===o)return f(7);var b=(d={},d[l]=e,d[r]=t,d[n]=1e3,d)[v]||1,p=this.$d.getTime()+a*b;return x.w(p,this)},p.subtract=function(e,t){return this.add(-1*e,t)},p.format=function(e){var t=this,a=this.$locale();if(!this.isValid())return a.invalidDate||m;var n=e||"YYYY-MM-DDTHH:mm:ssZ",l=x.z(this),r=this.$H,i=this.$m,o=this.$M,c=a.weekdays,u=a.months,s=function(e,a,l,r){return e&&(e[a]||e(t,n))||l[a].substr(0,r)},d=function(e){return x.s(r%12||12,e,"0")},v=a.meridiem||function(e,t,a){var n=e<12?"AM":"PM";return a?n.toLowerCase():n},b={YY:String(this.$y).slice(-2),YYYY:this.$y,M:o+1,MM:x.s(o+1,2,"0"),MMM:s(a.monthsShort,o,u,3),MMMM:s(u,o),D:this.$D,DD:x.s(this.$D,2,"0"),d:String(this.$W),dd:s(a.weekdaysMin,this.$W,c,2),ddd:s(a.weekdaysShort,this.$W,c,3),dddd:c[this.$W],H:String(r),HH:x.s(r,2,"0"),h:d(1),hh:d(2),a:v(r,i,!0),A:v(r,i,!1),m:String(i),mm:x.s(i,2,"0"),s:String(this.$s),ss:x.s(this.$s,2,"0"),SSS:x.s(this.$ms,3,"0"),Z:l};return n.replace(f,(function(e,t){return t||b[e]||l.replace(":","")}))},p.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},p.diff=function(a,d,m){var v,f=x.p(d),b=O(a),p=(b.utcOffset()-this.utcOffset())*e,E=this-b,h=x.m(this,b);return h=(v={},v[s]=h/12,v[c]=h,v[u]=h/3,v[o]=(E-p)/6048e5,v[i]=(E-p)/864e5,v[r]=E/t,v[l]=E/e,v[n]=E/1e3,v)[f]||E,m?h:x.a(h)},p.daysInMonth=function(){return this.endOf(c).$D},p.$locale=function(){return y[this.$L]},p.locale=function(e,t){if(!e)return this.$L;var a=this.clone(),n=N(e,t,!0);return n&&(a.$L=n),a},p.clone=function(){return x.w(this.$d,this)},p.toDate=function(){return new Date(this.valueOf())},p.toJSON=function(){return this.isValid()?this.toISOString():null},p.toISOString=function(){return this.$d.toISOString()},p.toString=function(){return this.$d.toUTCString()},b}(),w=j.prototype;return O.prototype=w,[["$ms",a],["$s",n],["$m",l],["$H",r],["$W",i],["$M",c],["$y",s],["$D",d]].forEach((function(e){w[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),O.extend=function(e,t){return e.$i||(e(t,j,O),e.$i=!0),O},O.locale=N,O.isDayjs=g,O.unix=function(e){return O(1e3*e)},O.en=y[h],O.Ls=y,O.p={},O}()},2779:function(e,t,a){"use strict";a.r(t);var n=a(26),l=a(0),r=a.n(l),i=a(1541),o=a(15),c=a(1308),u=a(434),s=a(31),d=function(e){var t=e.lists,a=e.listsTwo,l=e.type,i=e.prospect,o=e.contactShow,c=r.a.useState(!1),u=Object(n.a)(c,2),s=u[0],d=u[1];return"project"===l?r.a.createElement("div",null,r.a.createElement("ul",{className:"nav flex-column text-12 gy-2"},r.a.createElement(r.a.Fragment,null,t.map((function(e){return r.a.createElement("li",{className:"border-bottom border-light pb-1 animated fadeInUp"},r.a.createElement("div",{className:"d-flex flex-wrap gy-2"},r.a.createElement("span",{className:"text-capitalize"},e.title),r.a.createElement("b",{className:"ml-auto text-capitalize"},e.value)))}))))):r.a.createElement("div",null,r.a.createElement("ul",{className:"nav flex-column text-12 gy-2"},s?r.a.createElement(r.a.Fragment,null,a.map((function(e){return r.a.createElement("li",{className:"border-bottom border-light pb-1 animated fadeInDown"},r.a.createElement("div",{className:"d-flex flex-wrap gy-2"},r.a.createElement("span",{className:"text-capitalize"},e.title),r.a.createElement("b",{className:"ml-auto text-capitalize"},e.value)))}))):r.a.createElement(r.a.Fragment,null,t.map((function(e){return r.a.createElement("li",{className:"border-bottom border-light pb-1 animated fadeInUp"},r.a.createElement("div",{className:"d-flex flex-wrap gy-2"},r.a.createElement("span",{className:"text-capitalize"},e.title),r.a.createElement("b",{className:"ml-auto text-capitalize"},e.value)))}))),!0===i||o?null:r.a.createElement("li",{className:"d-flex flex-column"},r.a.createElement("button",{type:"button",className:"btn btn-sm btn-outline-primary ml-auto text-uppercase font-weight-bold",onClick:function(){return d(!s)}},s?"Back":"MORE INFO"))))},m=function(e){var t=e.email,a=Object(s.d)((function(e){return e.firestore.ordered.RapportsEvaluations})),i=Object(l.useState)([]),o=Object(n.a)(i,2),c=o[0],u=o[1];return Object(l.useEffect)((function(){if(a&&t){var e=a.filter((function(e){return e.userEmail===t}));u(e)}}),[a,t]),r.a.createElement("div",{className:"animated fadeInUp overflow-auto table-responsive",style:{height:250}},r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"position-sticky fixed-top bg-gray-200"},"Address"),r.a.createElement("th",{className:"position-sticky fixed-top bg-gray-200"},"Date"))),r.a.createElement("tbody",null,null===c||void 0===c?void 0:c.map((function(e){var t;return r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("small",null,null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.value)),r.a.createElement("td",null,r.a.createElement("small",null,null===e||void 0===e?void 0:e.dateCreation)))})))))},v=a(94),f=function(e){var t=e.progress,a=e.id,n=e.date,l=Object(s.d)((function(e){return e.firebase.profile}));return r.a.createElement("div",{className:"animated fadeInUp "},r.a.createElement("ul",{className:"nav flex-column text-12 gy-2"},r.a.createElement("li",{className:"border-bottom border-light pb-1"},r.a.createElement("h6",{className:"mb-0 text-primary font-weight-bold"},"Select Status")),[{name:"New Prospect"},{name:"Contacted"},{name:"Scheduled"},{name:"In Progress"},{name:"Offer Submitted"},{name:"Signed Mandate"},{name:"To be restarted"},{name:"Lost/Completion"}].map((function(e,i){return r.a.createElement("li",{key:i,className:"border-bottom border-light pb-1"},r.a.createElement("div",{class:"form-check"},r.a.createElement("input",{class:"form-check-input",type:"radio",name:"flexRadioDefault",id:i,checked:e.name===t,onClick:function(){return function(e){var t={brokerId:l.userId,brokerName:l.displayName,brokerEmail:l.email,dateofAcceptance:n,phoneNumber:l.phoneNumber,projectStatus:"Accepted",projectProgress:e};v.a.firestore().collection("RapportsEvaluations").doc(a).set({broker:[t]},{merge:!0}).then((function(e){console.log(e)})).catch((function(e){return console.log(e)}))}(e.name)}}),r.a.createElement("label",{class:"form-check-label",for:i},e.name)))}))))},b=a(214),p=function(e){var t=e.data,a=Object(b.a)().t,l=r.a.useState(!1),i=Object(n.a)(l,2);i[0],i[1];return r.a.createElement("div",null,r.a.createElement("ul",{className:"nav flex-column text-12 gy-2"},r.a.createElement("li",{className:"border-bottom border-light pb-1 animated fadeInDown"},r.a.createElement("div",{className:"d-flex flex-wrap gy-2"},r.a.createElement("span",{className:"text-capitalize"},a("Leads.70"),":"),r.a.createElement("b",{className:"ml-auto text-capitalize"},null===t||void 0===t?void 0:t.name))),r.a.createElement("li",{className:"border-bottom border-light pb-1 animated fadeInDown"},r.a.createElement("div",{className:"d-flex flex-wrap gy-2"},r.a.createElement("span",{className:"text-capitalize"},a("Leads.71"),":"),r.a.createElement("b",{className:"ml-auto text-capitalize"},null===t||void 0===t?void 0:t.phone))),r.a.createElement("li",{className:"border-bottom border-light pb-1 animated fadeInDown"},r.a.createElement("div",{className:"d-flex flex-wrap gy-2"},r.a.createElement("span",{className:"text-capitalize"},a("Leads.72"),":"),r.a.createElement("b",{className:"ml-auto "},null===t||void 0===t?void 0:t.email))),r.a.createElement("li",{className:"border-bottom border-light pb-1 animated fadeInDown"},r.a.createElement("div",{className:"d-flex flex-wrap gy-2"},r.a.createElement("span",{className:"text-capitalize"},a("Leads.73"),":"),r.a.createElement("b",{className:"ml-auto text-capitalize"},null===t||void 0===t?void 0:t.address))),r.a.createElement("li",{className:"border-bottom border-light pb-1 animated fadeInDown"},r.a.createElement("div",{className:"d-flex flex-wrap gy-2"},r.a.createElement("span",{className:"text-capitalize"},a("Leads.74"),":"),r.a.createElement("b",{className:"ml-auto text-capitalize"},null===t||void 0===t?void 0:t.call)))))},E=a(256),h=a.n(E),y=a(174),g=a(150),N=a(101),O=function(e){var t=e.show,a=e.setShow,i=e.evalId,c=Object(b.a)().t,u=Object(s.d)((function(e){return e.firebase.profile})),d=Object(s.d)((function(e){return e.firestore.ordered.notes})),m=Object(l.useState)(null),f=Object(n.a)(m,2),p=f[0],E=f[1],h=function(){a(!1)};Object(N.useFirestoreConnect)(["notes"]);return r.a.createElement(y.a,{size:"lg",show:t,onHide:h,centered:!0},r.a.createElement(y.a.Header,{closeButton:!0},r.a.createElement(y.a.Title,null,c("Leads.67"))),r.a.createElement(y.a.Body,null,r.a.createElement("textarea",{className:"w-100 ",style:{height:"100px"},onChange:function(e){return E(e.target.value)}})),r.a.createElement(y.a.Footer,null,r.a.createElement(g.a,{variant:"secondary",onClick:h},c("Leads.67")),r.a.createElement(g.a,{variant:"primary",onClick:function(){var e={year:"numeric",month:"numeric",day:"numeric"};if(d.some((function(e){return(null===e||void 0===e?void 0:e.brokerId)===u.userId&&(null===e||void 0===e?void 0:e.evaluationId)===i}))){var t=d.filter((function(e){return(null===e||void 0===e?void 0:e.brokerId)===u.userId&&(null===e||void 0===e?void 0:e.evaluationId)===i}));console.log(t);var n={text:p,date:(new Date).toLocaleDateString("fr-ca",e)};v.a.firestore().collection("notes").doc(t[0].id).update({notes:[].concat(Object(o.a)(t[0].notes),[n])}).then((function(e){console.log(e)})).catch((function(e){return console.log(e)})),a(!1)}else{var l={evaluationId:i,notes:[{text:p,date:(new Date).toLocaleDateString("fr-ca",e)}],brokerId:u.userId};v.a.firestore().collection("notes").add(l).then((function(e){console.log(e)})).catch((function(e){return console.log(e)})),a(!1)}}},"Add Note")))},x=a(2568),j=a.n(x),w=function(e){var t=e.evalId,a=Object(s.d)((function(e){return e.firestore.ordered.notes})),i=Object(s.d)((function(e){return e.firebase.profile.userId})),o=Object(l.useState)([]),c=Object(n.a)(o,2),u=c[0],d=c[1],m=Object(l.useState)([]),v=Object(n.a)(m,2),f=v[0],b=v[1];return Object(l.useEffect)((function(){if(a&&t){var e=a.filter((function(e){return e.brokerId===i&&e.evaluationId===t}));console.log(e),d(e)}}),[a,t]),Object(l.useEffect)((function(){if(0!==u.length){console.log(u);var e=u[0].notes.map((function(e,t){return{text:e.text,date:e.date,id:t}}));b(e)}}),[u]),console.log(u,f),r.a.createElement("div",{className:"animated fadeInUp overflow-auto table-responsive",style:{height:250}},r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"position-sticky fixed-top bg-gray-200"},"Notes"),r.a.createElement("th",{className:"position-sticky fixed-top bg-gray-200"},"Date"))),r.a.createElement("tbody",null,null===f||void 0===f?void 0:f.map((function(e){return r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("small",null,null===e||void 0===e?void 0:e.text)),r.a.createElement("td",null,r.a.createElement("small",null,r.a.createElement(j.a,{format:"MM-DD-YYYY"},null===e||void 0===e?void 0:e.date))))})))))},k=function(e){var t=e.participant,a=Object(l.useState)([]),i=Object(n.a)(a,2),o=i[0],c=i[1],u=Object(l.useState)([]),s=Object(n.a)(u,2),d=(s[0],s[1]),m=Object(l.useRef)(),v=Object(l.useRef)();Object(l.useEffect)((function(){}));var f=function(e){return Array.from(e.values()).map((function(e){return e.track})).filter((function(e){return null!==e}))};return Object(l.useEffect)((function(){return c(f(t.videoTracks)),d(f(t.audioTracks)),t.on("trackSubscribed",(function(e){})),t.on("trackUnsubscribed",(function(e){})),function(){c([]),d([]),t.removeAllListeners()}}),[t]),Object(l.useEffect)((function(){var e=o[0];if(e)return e.attach(m.current),function(){e.detach()}}),[o]),r.a.createElement("div",{className:"participant"},r.a.createElement("h3",null,t.identity),r.a.createElement("video",{ref:m,autoPlay:!0}),r.a.createElement("audio",{ref:v,autoPlay:!0,muted:!0}))},S=function(e){var t=e.roomName,a=(e.token,e.handleLogout),i=e.key,o=e.participant,c=Object(l.useState)(null),u=Object(n.a)(c,2),s=(u[0],u[1],Object(l.useState)([])),d=Object(n.a)(s,2),m=d[0],v=(d[1],m.map((function(e){return r.a.createElement("p",{key:e.sid},e.identity)})));return r.a.createElement("div",{className:"room"},r.a.createElement("h2",null,"Room: ",t),r.a.createElement("button",{onClick:a},"Log out"),r.a.createElement("div",{className:"local-participant"},r.a.createElement(k,{key:i,participant:o})),r.a.createElement("h3",null,"Remote Participants"),r.a.createElement("div",{className:"remote-participants"},v))},L=function(e){var t=e.show,a=e.handleClose,i=(e.setShow,e.token),o=e.setToken,c=e.key,u=e.participant,s=Object(l.useState)(null),d=Object(n.a)(s,2),m=(d[0],d[1],Object(l.useState)([])),v=Object(n.a)(m,2),f=v[0],b=(v[1],Object(l.useCallback)((function(e){o(null)}),[]));f.map((function(e){return r.a.createElement("p",{key:e.sid},e.identity)}));return r.a.createElement(l.Fragment,null,r.a.createElement(y.a,{size:"lg",show:t,onHide:a},r.a.createElement(y.a.Header,{closeButton:!0},r.a.createElement(y.a.Title,null,"Token: ",i)),r.a.createElement(y.a.Body,null,i&&r.a.createElement(S,{roomName:"myRoom",token:i,handleLogout:b,key:c,participant:u})),r.a.createElement(y.a.Footer,null,r.a.createElement(g.a,{variant:"secondary",onClick:a},"Close"),r.a.createElement(g.a,{variant:"primary",onClick:a},"Save Changes"))))},D=a(36),I=a(24),C=function(e){var t,a,i,c,u,E,y,g,N,x,j,k,S,C,$,M,R,P,T,F,z,V,Y,_,A,B,W=e.data,H=e.onClick,J=e.prospect,U=Object(b.a)().t,Z=(Object(D.g)(),Object(l.useState)(!1)),G=Object(n.a)(Z,2),K=G[0],Q=G[1],q=Object(s.d)((function(e){return e.firestore.ordered.RapportsEvaluations})),X=Object(s.d)((function(e){return e.firebase.profile})),ee=Object(l.useState)(!1),te=Object(n.a)(ee,2),ae=te[0],ne=te[1],le=Object(l.useState)(0),re=Object(n.a)(le,2),ie=re[0],oe=re[1],ce=Object(l.useState)(!1),ue=Object(n.a)(ce,2),se=ue[0],de=ue[1],me=Object(l.useState)(!1),ve=Object(n.a)(me,2),fe=ve[0],be=ve[1],pe=Object(l.useState)(null),Ee=Object(n.a)(pe,2),he=Ee[0],ye=Ee[1],ge=Object(l.useState)(null),Ne=Object(n.a)(ge,2),Oe=Ne[0],xe=(Ne[1],Object(l.useState)(null)),je=Object(n.a)(xe,2),we=je[0],ke=(je[1],Object(l.useState)("eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCIsImN0eSI6InR3aWxpby1mcGE7dj0xIn0.eyJqdGkiOiJTS2IxOGE4ZGYxNTVjNDBjNTE5MzA1ZDYxODg0NWYwOWU4LTE2NDk5NDc4OTYiLCJncmFudHMiOnsiaWRlbnRpdHkiOiJzaGFoemFkIiwidmlkZW8iOnt9fSwiaWF0IjoxNjQ5OTQ3ODk2LCJleHAiOjE2NDk5NTE0OTYsImlzcyI6IlNLYjE4YThkZjE1NWM0MGM1MTkzMDVkNjE4ODQ1ZjA5ZTgiLCJzdWIiOiJBQzEyODZiNGI4YzA0MDVlZjgxYjVlOGFiZjZjMTczNjA3In0.UlK4IvMnwaYBR2uPgzzDPbYGffGYuF_g89RDet4Mmi4")),Se=Object(n.a)(ke,2),Le=Se[0],De=Se[1],Ie=function(e){return oe(e)},Ce=[{title:U("Leads.55"),value:"".concat(null===W||void 0===W?void 0:W.anneeConstruction)},{title:U("Leads.56"),value:"".concat(null===W||void 0===W?void 0:W.typeBatiment)},{title:U("Leads.57"),value:"".concat(null===W||void 0===W?void 0:W.pieces)},{title:U("Leads.58"),value:"".concat(null===W||void 0===W?void 0:W.chambres)},{title:U("Leads.59"),value:"".concat(null===W||void 0===W?void 0:W.bains)},{title:U("Leads.60"),value:"".concat(null===W||void 0===W?void 0:W.superficieTerrain)},{title:U("Leads.61"),value:"".concat(null===W||void 0===W?void 0:W.taxesMunicipale)},{title:U("Leads.62"),value:"".concat(null===W||void 0===W?void 0:W.evaluationMunicipale)},{title:U("Leads.63"),value:"".concat(null===W||void 0===W||null===(t=W.location)||void 0===t||null===(a=t.StreetName)||void 0===a?void 0:a.short_name,", ").concat(null===W||void 0===W||null===(i=W.location)||void 0===i?void 0:i.city,", ").concat(null===W||void 0===W||null===(c=W.location)||void 0===c||null===(u=c.state)||void 0===u?void 0:u.short_name," ").concat(null===W||void 0===W||null===(E=W.location)||void 0===E?void 0:E.postcode,", ").concat(null===W||void 0===W||null===(y=W.location)||void 0===y||null===(g=y.Country)||void 0===g?void 0:g.long_name)}],$e=[{title:U("Leads.64"),value:"".concat(null===W||void 0===W?void 0:W.displayName)},{title:U("Leads.65"),value:"".concat(null===W||void 0===W?void 0:W.userEmail)},{title:U("Leads.66"),value:"".concat(null===W||void 0===W?void 0:W.phoneNumber)}],Me={name:null===W||void 0===W?void 0:W.displayName,phone:null===W||void 0===W?void 0:W.phoneNumber,email:null===W||void 0===W?void 0:W.userEmail,address:null===W||void 0===W||null===(N=W.location)||void 0===N?void 0:N.value,call:"tbd"};Object(l.useEffect)((function(){var e=null===q||void 0===q?void 0:q.filter((function(e){var t,a;return(null===(t=e.location)||void 0===t?void 0:t.value)===(null===W||void 0===W||null===(a=W.location)||void 0===a?void 0:a.value)}));ye(null===e||void 0===e?void 0:e.length)}),[W,q]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(L,{show:K,handleClose:function(){return Q(!1)},setShow:Q,token:Le,setToken:De,key:Oe,participant:we}),r.a.createElement(O,{show:ae,setShow:ne,evalId:W.id}),se?r.a.createElement("div",{className:"bg-white h-100 w-100 position-absolute py-4",style:{top:37,left:0}},r.a.createElement("div",{className:"bg-gray-200 border border-primary rounded-lg p-3 overflow-auto",style:{height:600}},r.a.createElement("div",{className:"row gy-3"},r.a.createElement("div",{className:"col-12 col-sm-2 mr-3"},r.a.createElement("div",null,r.a.createElement("ul",{className:"nav flex-column gy-3"},r.a.createElement("li",null,r.a.createElement("div",{className:"p-2 d-flex flex-column align-items q-center justify-content-center text-center mt-3 mx-auto",style:{width:80,height:60}},(null===W||void 0===W?void 0:W.reseller)&&"True"===(null===W||void 0===W?void 0:W.reseller)?r.a.createElement("span",{className:"h3 mb-0"},r.a.createElement("i",{className:"i-Favorite-Window"}),r.a.createElement("i",{className:"i-Favorite-Window"}),r.a.createElement("i",{className:"i-Favorite-Window"})):"oui"===(null===W||void 0===W?void 0:W.estProprietaireReponse)?r.a.createElement("span",{className:"h3 mb-0"},r.a.createElement("i",{className:"i-Favorite-Window"}),r.a.createElement("i",{className:"i-Favorite-Window"})):r.a.createElement("span",{className:"h3 mb-0"},r.a.createElement("i",{className:"i-Favorite-Window"})))),!0===J?null:(null===W||void 0===W||null===(x=W.broker[0])||void 0===x?void 0:x.brokerId)===X.userId?r.a.createElement("li",{className:"text-11"},r.a.createElement("div",null,r.a.createElement("button",{type:"button",className:"btn btn-sm btn-primary text-uppercase rounded-lg w-100 font-weight-bold",onClick:function(){return be(!fe)}},U("Leads.23")))):r.a.createElement("li",{className:"text-11"},r.a.createElement("div",null,r.a.createElement("button",{type:"button",className:"btn btn-sm btn-success text-uppercase rounded-lg w-100 font-weight-bold",onClick:function(){return be(!fe)}},U("Leads.24"))),fe&&r.a.createElement("div",{className:"avaliableMenu position-absolute bg-white p-2"},r.a.createElement("div",{className:"my-1"},r.a.createElement("button",{type:"button",className:"btn btn-sm btn-primary text-uppercase rounded-lg w-100 font-weight-bold",onClick:function(){return function(e){var t=new Date,a=t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate(),n={brokerId:X.userId,brokerName:X.displayName,brokerEmail:X.email,dateofAcceptance:a,phoneNumber:X.phoneNumber,projectStatus:"Accepted",projectProgress:"New Prospect"};v.a.firestore().collection("RapportsEvaluations").doc(e).update({broker:[n]}).then((function(e){console.log(e),Ie(4)})).catch((function(e){return console.log(e)}))}(null===W||void 0===W?void 0:W.id)}},U("Leads.25"))))),r.a.createElement("li",null,r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",null,r.a.createElement(I.a,{to:{pathname:"/videoChat",state:null===W||void 0===W?void 0:W.userEmail},type:"button",className:"btn p-0"},r.a.createElement("i",{className:"i-Telephone text-17 text-primary"}))),r.a.createElement("div",{className:"mx-2"},r.a.createElement("button",{type:"button",className:"btn p-0"},r.a.createElement("i",{className:"i-Mail-Video text-17 text-primary"}))),r.a.createElement("div",{className:""},r.a.createElement("button",{type:"button",className:"btn p-0"},r.a.createElement("i",{className:"i-Speach-Bubble-3 text-17 text-primary"}))))),r.a.createElement("li",null,!0===J?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,!0===function(e){var t;return!!(null===(t=X.bookmarks)||void 0===t?void 0:t.some((function(t){return(null===t||void 0===t?void 0:t.id)===e})))}(null===W||void 0===W?void 0:W.id)?r.a.createElement("button",{type:"button",className:"btn btn-sm text-uppercase rounded-lg w-100 btn-primary ",disabled:!0},U("Leads.26")):r.a.createElement("button",{type:"button",className:"btn btn-sm text-uppercase rounded-lg w-100 ".concat(4===ie?"btn-primary":"btn-outline-primary"," "),onClick:function(){return function(e){X.bookmarks?v.a.firestore().collection("users").doc(X.userId).update({bookmarks:[].concat(Object(o.a)(X.bookmarks),[e])}).then((function(e){console.log(e)})).catch((function(e){return console.log(e)})):v.a.firestore().collection("users").doc(X.userId).update({bookmarks:[e]}).then((function(e){console.log(e)})).catch((function(e){return console.log(e)}))}(W)}},U("Leads.27"),r.a.createElement("br",null),U("Leads.28"))),r.a.createElement("div",{className:"my-2"})):null,!0===J||(null===W||void 0===W||null===(j=W.broker[0])||void 0===j?void 0:j.brokerId)!==X.userId?null:r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement("button",{type:"button",className:"btn btn-sm text-uppercase rounded-lg w-100 ".concat(4===ie?"btn-primary":"btn-outline-primary"," "),onClick:function(){return Ie(4)}},U("Leads.29"))),r.a.createElement("div",{className:"my-2"})),r.a.createElement("div",null,r.a.createElement("button",{type:"button",className:"btn btn-sm text-uppercase rounded-lg w-100 ".concat(0===ie?"btn-primary":"btn-outline-primary"," "),onClick:function(){return Ie(0)}},U("Leads.30"))),r.a.createElement("div",{className:"my-2"}),r.a.createElement("div",null,r.a.createElement("button",{type:"button",className:"btn btn-sm text-uppercase rounded-lg w-100 ".concat(1===ie?"btn-primary":"btn-outline-primary"," "),onClick:function(){return Ie(1)}},U("Leads.31"))),r.a.createElement("div",{className:"my-2"}),!0===J?null:r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement("button",{type:"button",className:"btn btn-sm text-uppercase rounded-lg w-100 ".concat(2===ie?"btn-primary":"btn-outline-primary"," "),onClick:function(){return Ie(2)}},U("Leads.32")," ",r.a.createElement("br",null)," ",U("Leads.33"))),r.a.createElement("div",{className:"my-2"})),!0===J||(null===W||void 0===W||null===(k=W.broker[0])||void 0===k?void 0:k.brokerId)!==X.userId?null:r.a.createElement("div",null,r.a.createElement("button",{type:"button",className:"btn btn-sm text-uppercase rounded-lg w-100 ".concat(3===ie?"btn-primary":"btn-outline-primary"," "),onClick:function(){return Ie(3)}},U("Leads.34"))),r.a.createElement("div",{className:"my-2"}),r.a.createElement("div",null,r.a.createElement("button",{type:"button",className:"btn btn-sm text-uppercase rounded-lg w-100 ".concat("btn-outline-primary"," "),onClick:function(){return ne(!0)}},U("Leads.35")," ",r.a.createElement("br",null)," ",U("Leads.75"))),r.a.createElement("div",{className:"my-2"}),r.a.createElement("div",null,r.a.createElement("button",{type:"button",className:"btn btn-sm text-uppercase rounded-lg w-100 ".concat("btn-outline-primary"," "),onClick:function(){return Ie(5)}},U("Leads.36"))))))),r.a.createElement("div",{className:"col  order-first order-md-last"},r.a.createElement("div",null,r.a.createElement("ul",{className:"nav flex-column gy-3"},r.a.createElement("li",null,r.a.createElement("div",{className:"d-flex"},r.a.createElement("div",{className:"flex-fill mx-auto border-right border-left border-gray-400 text-center d-flex flex-column justify-content-center"},r.a.createElement("div",{className:"pt-2"},r.a.createElement("div",{className:"text-14 mb-0 font-weight-bold"},null===W||void 0===W?void 0:W.envisageVendreBienReponse),r.a.createElement("div",{className:"font-weight-bold"},r.a.createElement("span",null,null===W||void 0===W||null===(S=W.location)||void 0===S||null===(C=S.Country)||void 0===C?void 0:C.long_name))),r.a.createElement("div",{className:"pt-2"},r.a.createElement("span",null,U("Leads.37")," ",null===W||void 0===W?void 0:W.dateCreation))),r.a.createElement("div",{className:"text-center ml-3"},r.a.createElement("div",{className:"font-weight-bold mb-auto text-right"},r.a.createElement("button",{type:"button",className:"btn",onClick:function(){return de(!1)}},r.a.createElement("i",{className:"i-Close text-18 text-primary"}))),r.a.createElement("div",{className:"mb-auto text-center"},r.a.createElement("div",{className:"text-14 mb-0 font-weight-bold"},r.a.createElement(h.a,{value:null===W||void 0===W||null===($=W.ziaEstimation)||void 0===$?void 0:$.prediction.toFixed(0),displayType:"text",isNumericString:!0,thousandSeparator:" ",thousandSpacing:"3",fixedDecimalScale:!0,prefix:"$"})),r.a.createElement("div",{className:"text-12"},U("Leads.38"))),r.a.createElement("span",{className:"mt-2 mb-0 text-center btn btn-sm btn-primary rounded-circle text-center"},he)))),r.a.createElement("li",null,r.a.createElement("div",null,r.a.createElement("div",{className:"my-2"}),r.a.createElement("div",{className:"bg-white py-1 px-2 rounded"},r.a.createElement("ul",{className:"nav align-items-center small",style:{gap:10}},r.a.createElement("li",null,r.a.createElement("b",{className:"text-uppercase"},U("Leads.39"))),r.a.createElement("li",{className:"ml-auto"},r.a.createElement("b",{className:" text-13"},r.a.createElement(h.a,{value:null===W||void 0===W||null===(M=W.ziaEstimation)||void 0===M?void 0:M.prediction.toFixed(0),displayType:"text",isNumericString:!0,thousandSeparator:" ",thousandSpacing:"3",fixedDecimalScale:!0,prefix:"$"}))))),r.a.createElement("div",{className:"my-2"}),r.a.createElement("div",{className:"bg-white py-1 px-2 rounded"},r.a.createElement("ul",{className:"nav align-items-center small",style:{gap:10}},r.a.createElement("li",null,r.a.createElement("b",{className:"text-uppercase"}," ",U("Leads.40"))),r.a.createElement("li",null,r.a.createElement("span",null," ",U("Leads.41"))),r.a.createElement("li",null,r.a.createElement("span",{className:"p-1 bg-gray-200 rounded-lg text-success"},"+",(100*((null===W||void 0===W||null===(R=W.ziaEstimation)||void 0===R?void 0:R.predictionEnd)-(null===W||void 0===W||null===(P=W.ziaEstimation)||void 0===P?void 0:P.prediction))/(null===W||void 0===W||null===(T=W.ziaEstimation)||void 0===T?void 0:T.prediction)).toFixed(),"%")),r.a.createElement("li",{className:"ml-auto"},r.a.createElement("b",{className:" text-13"},r.a.createElement(h.a,{value:null===W||void 0===W||null===(F=W.ziaEstimation)||void 0===F?void 0:F.predictionEnd.toFixed(0),displayType:"text",isNumericString:!0,thousandSeparator:" ",thousandSpacing:"3",fixedDecimalScale:!0,prefix:"$"}))))))),r.a.createElement("li",null,0===ie&&r.a.createElement(d,{lists:Ce,listsTwo:J?null:$e,prospect:J,contactShow:(null===W||void 0===W||null===(z=W.broker[0])||void 0===z?void 0:z.brokerId)!==X.userId}),1===ie&&r.a.createElement(d,{lists:"oui"===(null===W||void 0===W?void 0:W.estProprietaireReponse)?[{title:U("Leads.46"),value:"".concat(null===W||void 0===W?void 0:W.estProprietaireReponse)},{title:U("Leads.47"),value:"".concat(null===W||void 0===W?void 0:W.ceBienEstReponse)},{title:U("Leads.48"),value:"".concat(null===W||void 0===W?void 0:W.envisageVendreBienReponse)}]:[{title:U("Leads.49"),value:"".concat(null===W||void 0===W?void 0:W.estProprietaireReponse)},{title:U("Leads.50"),value:"".concat(null===W||void 0===W?void 0:W.raisonEstimation)},{title:U("Leads.51"),value:"".concat(null===W||void 0===W?void 0:W.statutRecherche)},{title:U("Leads.52"),value:"".concat(null===W||void 0===W?void 0:W.projectionFinancement)},{title:U("Leads.54"),value:"".concat(null===W||void 0===W?void 0:W.emprunter)}],listsTwo:$e,type:"project"}),2===ie&&r.a.createElement(m,{email:null===W||void 0===W?void 0:W.userEmail}),!0===J||(null===W||void 0===W||null===(V=W.broker[0])||void 0===V?void 0:V.brokerId)!==X.userId?null:3===ie&&r.a.createElement(f,{progress:null===W||void 0===W||null===(Y=W.broker[0])||void 0===Y?void 0:Y.projectProgress,date:null===W||void 0===W||null===(_=W.broker[0])||void 0===_?void 0:_.dateofAcceptance,id:null===W||void 0===W?void 0:W.id}),4===ie&&r.a.createElement(p,{data:Me}),5===ie&&r.a.createElement(w,{email:null===W||void 0===W?void 0:W.userEmail,evalId:W.id})))))))):r.a.createElement("div",{className:"d-flex align-items-center bg-gray-200 p-2 rounded-lg cursor-pointer",onClick:function(){de(!0),H(W)}},r.a.createElement("div",{className:"p-2 d-flex flex-column align-items-center justify-content-center text-center mr-3",style:{width:80,height:60}},"oui"===(null===W||void 0===W?void 0:W.estProprietaireReponse)?r.a.createElement("span",{className:"h3 mb-0"},r.a.createElement("i",{className:"i-Favorite-Window"}),r.a.createElement("i",{className:"i-Favorite-Window"})):r.a.createElement("span",{className:"h3 mb-0"},r.a.createElement("i",{className:"i-Favorite-Window"})),r.a.createElement("div",{className:"mt-1"},!0===J?null:(null===W||void 0===W||null===(A=W.broker[0])||void 0===A?void 0:A.brokerId)===X.userId?r.a.createElement("button",{type:"button",className:"btn btn-sm btn-primary text-uppercase rounded-lg w-100 font-weight-bold"},r.a.createElement("span",{className:"text-10"}," ",U("Leads.42"))):r.a.createElement("button",{type:"button",className:"btn btn-sm btn-success text-uppercase rounded-lg w-100 font-weight-bold"},r.a.createElement("span",{className:"text-10"}," ",U("Leads.43"))))),r.a.createElement("div",{className:"flex-fill d-flex"},r.a.createElement("div",{className:"flex-fill mx-auto border-right border-left border-gray-400 text-center"},r.a.createElement("div",{className:"pt-2"},"non"===(null===W||void 0===W?void 0:W.estProprietaireReponse)?r.a.createElement("div",{className:"text-14 mb-0 font-weight-bold"},null===W||void 0===W?void 0:W.statutRecherche):r.a.createElement("div",{className:"text-14 mb-0 font-weight-bold"},null===W||void 0===W?void 0:W.envisageVendreBienReponse)),r.a.createElement("div",{className:"pt-2"},r.a.createElement("span",null," ",U("Leads.44")," ",null===W||void 0===W?void 0:W.dateCreation))),r.a.createElement("div",{className:"ml-3 text-center"},r.a.createElement("div",{className:"mb-auto text-center"},r.a.createElement("div",{className:"text-14 mb-0 font-weight-bold"},r.a.createElement(h.a,{value:null===W||void 0===W||null===(B=W.ziaEstimation)||void 0===B?void 0:B.prediction.toFixed(0),displayType:"text",isNumericString:!0,thousandSeparator:" ",thousandSpacing:"3",fixedDecimalScale:!0,prefix:"$"})),r.a.createElement("div",{className:"text-12"}," ",U("Leads.45"))),r.a.createElement("span",{className:"mt-2 mb-0 btn btn-sm btn-primary rounded-circle"},he)))))},$=function(e){var t,a=e.data,d=e.onClick,m=e.prospects,v=Object(b.a)().t,f=Object(s.d)((function(e){return e.firebase.profile})),p=Object(l.useState)(null),E=Object(n.a)(p,2),h=E[0],y=E[1],g=Object(l.useState)(null),N=Object(n.a)(g,2),O=N[0],x=N[1],j=Object(l.useState)(null),w=Object(n.a)(j,2),k=w[0],S=w[1];Object(l.useEffect)((function(){if(f&&a){var e=null===a||void 0===a?void 0:a.filter((function(e){var t,a;return 0===(null===e||void 0===e||null===(t=e.broker)||void 0===t?void 0:t.length)||(null===e||void 0===e||null===(a=e.broker[0])||void 0===a?void 0:a.brokerId)===f.userId})),t=null===a||void 0===a?void 0:a.filter((function(e){var t;return(null===e||void 0===e||null===(t=e.broker[0])||void 0===t?void 0:t.brokerId)===f.userId}));x(t),y(e)}}),[a,f]),Object(l.useEffect)((function(){m&&S(m)}),[m]);var L=[{value:"price",label:v("Leads.19")},{value:"price2",label:v("Leads.20")},{value:"date",label:v("Leads.21")},{value:"date2",label:v("Leads.22")}];function D(e,t){var a=e.split(".");return t.sort((function(e,t){return n(t,a)-n(e,a)}));function n(e,t){return t.forEach((function(t){return e=e[t]})),e}}function I(e,t){var a=e.split(".");return t.sort((function(e,t){return n(e,a)-n(t,a)}));function n(e,t){return t.forEach((function(t){return e=e[t]})),e}}return r.a.createElement(c.a.Container,{id:"left-tabs-example",defaultActiveKey:"Date"},r.a.createElement("div",{className:"border rounded-lg position-relative"},r.a.createElement("div",{className:"border-bottom"},r.a.createElement("ul",{className:"nav align-items-center p-3 p-md-0",style:{rowGap:"1rem"}},r.a.createElement("li",{className:"mr-3"},r.a.createElement(i.a,{placeholder:v("Leads.76"),options:L,onChange:function(e){return function(e){switch(e){case"price":y(D("ziaEstimation.prediction",Object(o.a)(h))),S(D("ziaEstimation.prediction",Object(o.a)(k)));break;case"price2":y(I("ziaEstimation.prediction",Object(o.a)(h))),S(I("ziaEstimation.prediction",Object(o.a)(k)));break;case"date":var t=Object(o.a)(h).sort((function(e,t){return new Date(e.dateCreation)-new Date(t.dateCreation)})),a=Object(o.a)(k).sort((function(e,t){return new Date(e.dateCreation)-new Date(t.dateCreation)}));y(t),S(a);break;case"date2":var n=Object(o.a)(h).sort((function(e,t){return new Date(t.dateCreation)-new Date(e.dateCreation)})),l=Object(o.a)(k).sort((function(e,t){return new Date(t.dateCreation)-new Date(e.dateCreation)}));y(n),S(l);break;case"stars":console.log("Oranges are $0.59 a pound.");break;default:console.log("Sorry, we are out of ".concat(e,"."))}}(e.value)}})),r.a.createElement("li",{className:"ml-auto"},r.a.createElement(u.a,{variant:"pills",className:"text-uppercase"},r.a.createElement(u.a.Item,null,r.a.createElement(u.a.Link,{eventKey:"Date"}," ",v("Leads.15"))),r.a.createElement(u.a.Item,null,r.a.createElement(u.a.Link,{eventKey:"Price"},v("Leads.16"))),r.a.createElement(u.a.Item,null,r.a.createElement(u.a.Link,{eventKey:"Bookmarks"},v("Leads.17"))),r.a.createElement(u.a.Item,null,r.a.createElement(u.a.Link,{eventKey:"MyLeads"},v("Leads.18"))))))),r.a.createElement("div",{className:"overflow-auto",style:{height:620}},r.a.createElement(c.a.Content,{className:"h-100"},r.a.createElement(c.a.Pane,{eventKey:"Price"},r.a.createElement("ul",{className:"nav flex-column gy-2"},null===h||void 0===h?void 0:h.map((function(e){return r.a.createElement("li",{key:e.id},r.a.createElement(C,{data:e,onClick:d}))})))),r.a.createElement(c.a.Pane,{eventKey:"Date"},r.a.createElement("ul",{className:"nav flex-column gy-2"},null===k||void 0===k?void 0:k.map((function(e){return r.a.createElement("li",null,r.a.createElement(C,{data:e,onClick:d,prospect:!0}))})))),r.a.createElement(c.a.Pane,{className:"h-100",eventKey:"MyLeads"},r.a.createElement("ul",{className:"nav flex-column gy-2"},null===O||void 0===O?void 0:O.map((function(e){return r.a.createElement("li",null,r.a.createElement(C,{data:e,onClick:d}))})))),r.a.createElement(c.a.Pane,{className:"h-100",eventKey:"Bookmarks"},r.a.createElement("ul",{className:"nav flex-column gy-2"},null===f||void 0===f||null===(t=f.bookmarks)||void 0===t?void 0:t.map((function(e){return r.a.createElement("li",null,r.a.createElement(C,{data:e,onClick:d,prospect:!0}))}))))))))},M=a(576);a(355),a(615),t.default=function(){var e=Object(b.a)().t,t=(Object(s.d)((function(e){return e.firestore.ordered.Meetings})),Object(l.useState)(!1)),a=Object(n.a)(t,2),o=a[0],c=a[1],u=Object(l.useState)(null),d=Object(n.a)(u,2),m=d[0],v=d[1],f=Object(l.useState)(null),p=Object(n.a)(f,2),E=p[0],h=p[1],y=Object(l.useState)([]),g=Object(n.a)(y,2),O=g[0],x=g[1],j=Object(l.useState)([]),w=Object(n.a)(j,2),k=w[0],S=w[1],L=Object(l.useState)([]),D=Object(n.a)(L,2),I=D[0],C=D[1],R=Object(l.useState)([]),P=Object(n.a)(R,2),T=P[0],F=P[1],z=Object(l.useState)(null),V=Object(n.a)(z,2),Y=V[0],_=V[1],A=Object(l.useState)(null),B=Object(n.a)(A,2),W=B[0],H=B[1],J=Object(l.useState)(null),U=Object(n.a)(J,2),Z=U[0],G=U[1],K=Object(l.useState)([]),Q=Object(n.a)(K,2),q=Q[0],X=Q[1],ee=Object(l.useState)(null),te=Object(n.a)(ee,2),ae=te[0],ne=te[1],le=Object(l.useState)([]),re=Object(n.a)(le,2),ie=re[0],oe=re[1],ce=Object(s.d)((function(e){return e.firestore.ordered.RapportsEvaluations})),ue=Object(l.useState)(!1),se=Object(n.a)(ue,2),de=se[0],me=se[1],ve=Object(l.useState)(null),fe=Object(n.a)(ve,2),be=fe[0],pe=fe[1],Ee=Object(l.useState)(null),he=Object(n.a)(Ee,2),ye=he[0],ge=he[1],Ne=Object(l.useState)(null),Oe=Object(n.a)(Ne,2),xe=Oe[0],je=Oe[1],we=Object(l.useState)(null),ke=Object(n.a)(we,2),Se=ke[0],Le=ke[1],De=Object(l.useState)([]),Ie=Object(n.a)(De,2),Ce=Ie[0],$e=(Ie[1],Object(l.useState)(null)),Me=Object(n.a)($e,2),Re=Me[0],Pe=Me[1],Te=Object(l.useState)(null),Fe=Object(n.a)(Te,2),ze=Fe[0],Ve=Fe[1],Ye=Object(l.useState)(null),_e=Object(n.a)(Ye,2),Ae=_e[0],Be=_e[1],We=Object(l.useState)(null),He=Object(n.a)(We,2),Je=He[0],Ue=He[1],Ze=Object(l.useState)(!1),Ge=Object(n.a)(Ze,2),Ke=Ge[0],Qe=Ge[1],qe=[{value:"oui",label:e("Leads.77")},{value:"non",label:e("Leads.78")},{value:"all",label:e("Leads.79")}];Object(N.useFirestoreConnect)([{collection:"RapportsEvaluations",orderBy:[["dateCreation","desc"]]}]);var Xe=function(e,t){me(e)},et=function(e){return null===e||void 0===e?void 0:e.map((function(e){return{value:e,label:e}}))},tt=function(e){for(var t=[],a=0;a<=(null===e||void 0===e?void 0:e.length);a++){var n,l;if(!1===t.includes(null===(n=e[a])||void 0===n?void 0:n.municipalite))t.push(null===(l=e[a])||void 0===l?void 0:l.municipalite)}return t},at=function(e){for(var t=[],a=0;a<=(null===e||void 0===e?void 0:e.length);a++)!1===t.includes(e[a])&&t.push(e[a]);return t};Object(l.useEffect)((function(){var e=null===ce||void 0===ce?void 0:ce.filter((function(e){return"oui"===e.ouiContacterParProfessionnel})),t=null===ce||void 0===ce?void 0:ce.filter((function(e){return"non"===e.ouiContacterParProfessionnel})),a=null===ce||void 0===ce?void 0:ce.filter((function(e){return"oui"===e.estProprietaireReponse})),n=null===ce||void 0===ce?void 0:ce.filter((function(e){return"non"===e.estProprietaireReponse}));G(n),ne(a),h(t),C(t),v(e),x(e)}),[ce]),Object(l.useEffect)((function(){if(0!==(null===k||void 0===k?void 0:k.length)){var e=null===k||void 0===k?void 0:k.filter((function(e){return"oui"===e.ouiContacterParProfessionnel})),t=null===k||void 0===k?void 0:k.filter((function(e){return"non"===e.ouiContacterParProfessionnel}));X(e),oe(t)}}),[k]),Object(l.useEffect)((function(){m&&(pe(function(e){for(var t=[],a=0;a<=(null===e||void 0===e?void 0:e.length);a++){var n,l,r,i;if(!1===t.includes(null===(n=e[a])||void 0===n||null===(l=n.location)||void 0===l?void 0:l.city))t.push(null===(r=e[a])||void 0===r||null===(i=r.location)||void 0===i?void 0:i.city)}return t}(m)),ge(tt(m)))}),[m]),Object(l.useEffect)((function(){if(O){var e=null===O||void 0===O?void 0:O.filter((function(e){return"oui"===e.estProprietaireReponse})),t=null===O||void 0===O?void 0:O.filter((function(e){return"non"===e.estProprietaireReponse}));G(t),ne(e)}}),[O]),console.log("dated",k,q,ie);var nt=[{title:e("Leads.12"),value:"165",subTitle:"".concat(!0===Ke?null===k||void 0===k?void 0:k.length:null===O||void 0===O?void 0:O.length),subValue:"100%",subValueColor:"text-body"},{title:e("Leads.13"),value:"$57.2m",subTitle:"".concat(!0===Ke?null===q||void 0===q?void 0:q.length:null===Z||void 0===Z?void 0:Z.length),subValue:!0===Ke?0===(null===q||void 0===q?void 0:q.length)?"0%":"".concat((100*(null===q||void 0===q?void 0:q.length)/(null===k||void 0===k?void 0:k.length)).toFixed(),"%"):0===(null===Z||void 0===Z?void 0:Z.length)?"0%":"".concat((100*(null===Z||void 0===Z?void 0:Z.length)/(null===O||void 0===O?void 0:O.length)).toFixed(),"%"),subValueColor:(100*(null===Z||void 0===Z?void 0:Z.length)/(null===O||void 0===O?void 0:O.length)).toFixed()>=50?"text-success":"text-danger"},{title:e("Leads.14"),value:"14.3%",subTitle:"".concat(!0===Ke?null===ie||void 0===ie?void 0:ie.length:null===ae||void 0===ae?void 0:ae.length),subValue:!0===Ke?0===(null===ie||void 0===ie?void 0:ie.length)?"0%":"".concat((100*(null===ie||void 0===ie?void 0:ie.length)/(null===k||void 0===k?void 0:k.length)).toFixed(),"%"):0===(null===ae||void 0===ae?void 0:ae.length)?"0%":"".concat((100*(null===ae||void 0===ae?void 0:ae.length)/(null===O||void 0===O?void 0:O.length)).toFixed(),"%"),subValueColor:(100*(null===ae||void 0===ae?void 0:ae.length)/(null===O||void 0===O?void 0:O.length)).toFixed()>=50?"text-success":"text-danger"}],lt=function(e){Qe(!0);var t=new Date,a=new Date;a.setDate(a.getDate()-e);var n=O.filter((function(e){var n=new Date(e.dateCreation);return n>=a&&n<=t})),l=I.filter((function(e){var n=new Date(e.dateCreation);return n>=a&&n<=t}));S(n),F(l)};return console.log("Leads:",O),r.a.createElement(r.a.Fragment,null,r.a.createElement("section",{className:"pb-4"},r.a.createElement("div",{className:"mb-4"},r.a.createElement("ul",{className:"nav row gy-3"},r.a.createElement("li",{className:"col"},r.a.createElement("div",null,r.a.createElement("ul",{className:"nav row gy-3"},r.a.createElement("li",{className:"col-12 col-md-8"},r.a.createElement("div",null,r.a.createElement(i.a,{placeholder:e("Leads.1"),options:et(be),value:Re,onChange:function(e){!function(e){Qe(!1),Ve(null);var t=m.filter((function(t){return t.location.city===e})),a=E.filter((function(t){return t.location.city===e})),n=m.filter((function(t){return t.location.city===e})).map((function(e){return e}));x(t),C(a),ge(tt(n))}(e.value),Pe(e)}}))),r.a.createElement("li",{className:"col-12 col-md-4"},r.a.createElement("div",null,r.a.createElement(i.a,{placeholder:e("Leads.2"),options:et(ye),value:ze,onChange:function(e){!function(e){Qe(!1);var t=m.filter((function(t){return t.municipalite===e&&t.location.city===Re.value})),a=E.filter((function(t){return t.municipalite===e&&t.location.city===Re.value}));x(t),C(a)}(e.value),Ve(e)}})))))),r.a.createElement("li",{className:"col-12 col-xl-5"},r.a.createElement("div",null,r.a.createElement("ul",{className:"nav row gy-3"},r.a.createElement("li",{className:"col-12 col-md-5"},r.a.createElement("div",null,r.a.createElement(i.a,{placeholder:e("Leads.3"),options:qe,value:Je,onChange:function(e){!function(e){if(Qe(!1),Be(null),"all"!==e){if(null===Re&&null===ze){var t=m.filter((function(t){return t.estProprietaireReponse===e})),a=E.filter((function(t){return t.estProprietaireReponse===e}));x(t),C(a)}else if(null!==Re&&null!==ze){var n=m.filter((function(t){return t.estProprietaireReponse===e&&t.location.city===Re.value&&t.municipalite===ze.value})),l=E.filter((function(t){return t.estProprietaireReponse===e&&t.location.city===Re.value&&t.municipalite===ze.value}));x(n),C(l)}else if(null===Re){var r=m.filter((function(t){return t.estProprietaireReponse===e&&t.municipalite===ze.value})),i=E.filter((function(t){return t.estProprietaireReponse===e&&t.municipalite===ze.value}));x(r),C(i)}else if(null===ze){var o=m.filter((function(t){return t.estProprietaireReponse===e&&t.location.city===Re.value})),c=E.filter((function(t){return t.estProprietaireReponse===e&&t.location.city===Re.value}));x(o),C(c)}if("oui"===e){var u=m.map((function(e){return e.envisageVendreBienReponse}));Le(!1),je(at(u))}else{Le(!0);var s=m.map((function(e){return e.statutRecherche}));je(at(s))}}else if(Be(null),null===Re&&null===ze)x(m),C(E);else if(null!==Re&&null!==ze){var d=m.filter((function(e){return e.location.city===Re.value&&e.municipalite===ze.value})),v=E.filter((function(e){return e.location.city===Re.value&&e.municipalite===ze.value}));x(d),C(v)}else if(null===Re){var f=m.filter((function(e){return e.municipalite===ze.value})),b=E.filter((function(e){return e.municipalite===ze.value}));x(f),C(b)}else if(null===ze){var p=m.filter((function(e){return e.location.city===Re.value})),h=E.filter((function(e){return e.location.city===Re.value}));x(p),C(h)}}(e.value),Ue(e)}}))),r.a.createElement("li",{className:"col-12 col-md-5"},r.a.createElement("div",null,r.a.createElement(i.a,{isDisabled:null===Se||"all"===Je.value,placeholder:e("Leads.4"),value:Ae,options:et(xe),onChange:function(e){!function(e){if(Qe(!1),!0===Se){if(null===Re&&null===ze){var t=m.filter((function(t){return t.statutRecherche===e})),a=E.filter((function(t){return t.statutRecherche===e}));x(t),C(a)}else if(null!==Re&&null!==ze){var n=m.filter((function(t){return t.statutRecherche===e&&t.location.city===Re.value&&t.municipalite===ze.value})),l=E.filter((function(t){return t.statutRecherche===e&&t.location.city===Re.value&&t.municipalite===ze.value}));x(n),C(l)}else if(null===Re){var r=m.filter((function(t){return t.statutRecherche===e&&t.municipalite===ze.value})),i=E.filter((function(t){return t.statutRecherche===e&&t.municipalite===ze.value}));x(r),C(i)}else if(null===ze){var o=m.filter((function(t){return t.statutRecherche===e&&t.location.city===Re.value})),c=E.filter((function(t){return t.statutRecherche===e&&t.location.city===Re.value}));x(o),C(c)}}else if(null===Re&&null===ze){var u=O.filter((function(t){return t.envisageVendreBienReponse===e})),s=I.filter((function(t){return t.envisageVendreBienReponse===e}));x(u),C(s)}else if(null!==Re&&null!==ze){var d=m.filter((function(t){return t.envisageVendreBienReponse===e&&t.location.city===Re.value&&t.municipalite===ze.value})),v=E.filter((function(t){return t.envisageVendreBienReponse===e&&t.location.city===Re.value&&t.municipalite===ze.value}));x(d),C(v)}else if(null===Re){var f=m.filter((function(t){return t.envisageVendreBienReponse===e&&t.municipalite===ze.value})),b=E.filter((function(t){return t.envisageVendreBienReponse===e&&t.municipalite===ze.value}));x(f),C(b)}else if(null===ze){var p=m.filter((function(t){return t.envisageVendreBienReponse===e&&t.location.city===Re.value})),h=E.filter((function(t){return t.envisageVendreBienReponse===e&&t.location.city===Re.value}));x(p),C(h)}}(e.value),Be(e)}}))),r.a.createElement("li",{className:"col-2 col-md-1 px-md-0"},r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("button",{type:"button",className:"btn btn-outline-primary",onMouseEnter:function(){return c(!o)}},r.a.createElement("i",{className:"i-Filter-2"})),r.a.createElement("div",{className:"dropdown-menu dropdown-menu-right ".concat(o&&"show"),onMouseLeave:function(){return c(!o)}},r.a.createElement("div",{className:"px-3 border-bottom pb-2 mb-2"},r.a.createElement("div",{class:"form-check"},r.a.createElement("input",{class:"form-check-input",type:"radio",name:"days",id:"31days",onClick:function(e){return lt(31)}}),r.a.createElement("label",{class:"form-check-label",for:"31days"},e("Leads.5")))),r.a.createElement("div",{className:"px-3 border-bottom pb-2 mb-2"},r.a.createElement("div",{class:"form-check"},r.a.createElement("input",{class:"form-check-input",type:"radio",name:"days",id:"7days",onClick:function(e){return lt(7)}}),r.a.createElement("label",{class:"form-check-label",for:"7days"},e("Leads.6")))),r.a.createElement("div",{className:"px-3 border-bottom pb-2 mb-2"},r.a.createElement("div",{class:"form-check"},r.a.createElement("input",{class:"form-check-input",type:"radio",name:"days",id:"31days"}),r.a.createElement("ul",{className:"nav gy-2"},r.a.createElement("li",null,r.a.createElement("b",null,e("Leads.7"))),r.a.createElement("li",null,r.a.createElement("div",null,r.a.createElement("input",{className:"form-control ",type:"date",onChange:function(e){return _(e.target.value)}}))),r.a.createElement("li",{className:"w-100"},r.a.createElement("div",{className:"text-center"},e("Leads.8"))),r.a.createElement("li",null,r.a.createElement("div",null,r.a.createElement("input",{disabled:null===Y,className:"form-control ",type:"date",onChange:function(e){return H(e.target.value)}}))),r.a.createElement("li",null,r.a.createElement("div",null,r.a.createElement("button",{disabled:null===Y,className:"btn btn-primary btn-block mb-2 ",type:"date",onClick:function(){Qe(!0);var e=new Date(Y),t=new Date(W),a=O.filter((function(a){var n=new Date(a.dateCreation);return n>=e&&n<=t})),n=I.filter((function(a){var n=new Date(a.dateCreation);return n>=e&&n<=t}));S(a),F(n)}},e("Leads.9")),r.a.createElement("button",{className:"btn btn-primary btn-block  ",type:"date",onClick:function(){return Qe(!1)}},e("Leads.10"))))))))))),r.a.createElement("li",{className:"col-2 col-md-1 px-md-0"},r.a.createElement("div",null,r.a.createElement("button",{type:"button",className:"btn btn-outline-primary",onClick:function(){x(m),C(E),Pe(null),Ve(null),Be(null),Le(null),Ue(null),Qe(!1)}},r.a.createElement("i",{className:"i-Reload"}))))))))),r.a.createElement("div",null,r.a.createElement("ul",{className:"nav row gy-3"},r.a.createElement("li",{className:"col-12 col-lg-6 col-xl-7"},r.a.createElement("div",{className:"h-100",style:{minHeight:"20rem"}},r.a.createElement(M.a,{selectedMarker:de,q:!0,markers:ce,onClick:Xe,googleMapURL:"https://maps.googleapis.com/maps/api/js?key=AIzaSyCd2d_otf6zxLsyj9OVyzJoZVAPiGgpfsY&v=3.exp&libraries=geometry,drawing,places",loadingElement:r.a.createElement("div",{style:{height:"500px"}}),containerElement:r.a.createElement("div",{style:{height:"100%",width:"100%"}}),mapElement:r.a.createElement("div",{style:{height:"100%"}}),polygon:Ce,h:!0}))),r.a.createElement("li",{className:"col px-0"},r.a.createElement("div",null,r.a.createElement("ul",{className:"nav flex-column gy-3"},r.a.createElement("li",null,r.a.createElement("div",{className:"border rounded-lg"},r.a.createElement("div",{className:"text-center py-2"},r.a.createElement("span",{style:{fontSize:"16px",fontWeight:"bold"}},e("Leads.11"))),r.a.createElement("div",{className:"border-top border-bottom"},r.a.createElement("ul",{className:"nav row row-cols-3 mx-0"},nt.map((function(e){return r.a.createElement("li",{className:"p-3"},r.a.createElement("div",{className:"text-center"},r.a.createElement("div",{className:"font-weight-bold text-uppercase text-12"},e.title)))})))),r.a.createElement("div",{className:"bg-gray-200"},r.a.createElement("ul",{className:"nav row row-cols-3 mx-0"},nt.map((function(e){return r.a.createElement("li",{className:"p-3"},r.a.createElement("div",{className:"text-center"},r.a.createElement("div",{className:"font-weight-bold text-uppercase text-16"},e.subTitle),r.a.createElement("div",{className:"mt-1"},r.a.createElement("span",{className:"bg-white px-2 py-1 rounded-lg ".concat(e.subValueColor)},e.subValue))))})))))),r.a.createElement("li",null,r.a.createElement("div",null,r.a.createElement($,{data:!0===Ke?k:O,prospects:!0===Ke?T:I,onClick:Xe}))))))))))}}}]);
//# sourceMappingURL=42.24395336.chunk.js.map