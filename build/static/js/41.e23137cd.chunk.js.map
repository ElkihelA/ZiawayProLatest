{"version":3,"sources":["app/views/app/invoice/InvoiceService.js","../node_modules/react-bootstrap/esm/Table.js","app/views/app/invoice/InvoiceList.jsx"],"names":["getAllInvoice","axios","get","getInvoiceById","id","data","deleteInvoice","invoice","post","addInvoice","updateInvoice","_excluded","Table","React","forwardRef","_ref","ref","bsPrefix","className","striped","bordered","borderless","hover","size","variant","responsive","props","_objectWithoutPropertiesLoose","decoratedBsPrefix","useBootstrapPrefix","classes","classNames","table","createElement","_extends","responsiveClass","InvoiceList","state","invoiceList","shouldShowConfirmationDialog","handeViewClick","invoiceId","history","push","handleDeleteInvoice","then","res","swal","fire","title","text","type","icon","timer","setState","handleDialogClose","this","users","console","log","context","to","elevation","style","minWidth","map","index","key","align","nom","prenom","classList","plan","onClick","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","cancelButtonText","result","value","Component","compose","firestoreConnect","connect","firestore","ordered"],"mappings":"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","file":"static/js/41.e23137cd.chunk.js","sourcesContent":["import axios from 'axios';\r\n\r\nexport const getAllInvoice = () => {\r\n    return axios.get(\"/api/invoices/all\")\r\n}\r\nexport const getInvoiceById = (id) => {\r\n    return axios.get(\"/api/invoices\", { data: id })\r\n}\r\nexport const deleteInvoice = (invoice) => {\r\n    return axios.post(\"/api/invoices/delete\", invoice)\r\n}\r\nexport const addInvoice = (invoice) => {\r\n    return axios.post(\"/api/invoices/add\", invoice)\r\n}\r\nexport const updateInvoice = (invoice) => {\r\n    return axios.post(\"/api/invoices/update\", invoice)\r\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nvar _excluded = [\"bsPrefix\", \"className\", \"striped\", \"bordered\", \"borderless\", \"hover\", \"size\", \"variant\", \"responsive\"];\nimport classNames from 'classnames';\nimport React from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nvar Table = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      className = _ref.className,\n      striped = _ref.striped,\n      bordered = _ref.bordered,\n      borderless = _ref.borderless,\n      hover = _ref.hover,\n      size = _ref.size,\n      variant = _ref.variant,\n      responsive = _ref.responsive,\n      props = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  var decoratedBsPrefix = useBootstrapPrefix(bsPrefix, 'table');\n  var classes = classNames(className, decoratedBsPrefix, variant && decoratedBsPrefix + \"-\" + variant, size && decoratedBsPrefix + \"-\" + size, striped && decoratedBsPrefix + \"-striped\", bordered && decoratedBsPrefix + \"-bordered\", borderless && decoratedBsPrefix + \"-borderless\", hover && decoratedBsPrefix + \"-hover\");\n  var table = /*#__PURE__*/React.createElement(\"table\", _extends({}, props, {\n    className: classes,\n    ref: ref\n  }));\n\n  if (responsive) {\n    var responsiveClass = decoratedBsPrefix + \"-responsive\";\n\n    if (typeof responsive === 'string') {\n      responsiveClass = responsiveClass + \"-\" + responsive;\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: responsiveClass\n    }, table);\n  }\n\n  return table;\n});\nexport default Table;","import React, { Component } from \"react\";\r\nimport { Table, Button, Card } from \"react-bootstrap\";\r\nimport { getAllInvoice, deleteInvoice } from \"./InvoiceService\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { classList } from \"@utils\";\r\nimport swal from \"sweetalert2\";\r\nimport { connect } from 'react-redux';\r\nimport { compose } from 'redux'\r\nimport { firestoreConnect } from 'react-redux-firebase'\r\n\r\nclass InvoiceList extends Component {\r\n  state = {\r\n    invoiceList: [],\r\n    shouldShowConfirmationDialog: false\r\n  };\r\n \r\n\r\n  componentDidMount() {\r\n    getAllInvoice().then(res => this.setState({ invoiceList: res.data }));\r\n    this.setState({users:this.props.users});\r\n    console.log(\"context\",this.context);\r\n  }\r\n\r\n  handeViewClick = invoiceId => {\r\n    this.props.history.push(`/invoice/${invoiceId}`);\r\n    // getInvoiceById(invoiceId).then(res => console.log(res.data));\r\n  };\r\n\r\n  handleDeleteInvoice = invoice => {\r\n    deleteInvoice(invoice).then(res => {\r\n      swal.fire({\r\n        title: \"Deleted!\",\r\n        text: \"Your file has been deleted.\",\r\n        type: \"success\",\r\n        icon: \"success\",\r\n        timer: 1500\r\n      });\r\n\r\n      this.setState({\r\n        invoiceList: res.data,\r\n        shouldShowConfirmationDialog: false\r\n      });\r\n    });\r\n  };\r\n\r\n  handleDialogClose = () => {\r\n    this.setState({ shouldShowConfirmationDialog: false });\r\n  };\r\n\r\n  render() {\r\n    let invoiceList  = this.props.users;\r\n\r\n    console.log(this.props.users);\r\n    return (\r\n      <div>\r\n        <Link to=\"/invoice/create\">\r\n          <Button className=\"mb-3\" variant=\"primary\">\r\n            Add Invoice\r\n          </Button>\r\n        </Link>\r\n        <Card elevation={6} className=\"w-100 overflow-auto\">\r\n          <Table style={{ minWidth: 750 }}>\r\n            <thead>\r\n              <tr>\r\n                <th className=\"pl-sm-24\">Order No.</th>\r\n                <th className=\"px-0\">Bill From</th>\r\n                <th className=\"px-0\">Bill To</th>\r\n                <th className=\"px-0\">Status</th>\r\n                <th className=\"px-0\">Actions</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {this.props.users && invoiceList.map((invoice, index) => (\r\n                <tr key={invoice.id}>\r\n                  <td className=\"pl-sm-24 capitalize\" align=\"left\">\r\n                    {invoice.id}\r\n                  </td>\r\n                  <td className=\"pl-0 capitalize\" align=\"left\">\r\n                    {invoice.nom}\r\n                  </td>\r\n                  <td className=\"pl-0 capitalize\" align=\"left\">\r\n                    {invoice.prenom}\r\n                  </td>\r\n                  <td className=\"pl-0 capitalize\">\r\n                    <small\r\n                      className={classList({\r\n                        \"badge rounded-pill text-white px-8 py-2\": true,\r\n                        \"bg-success\": invoice.plan === \"Plan dÃ©couverte\",\r\n                        \"bg-warning\": invoice.plan === \"processing\",\r\n                        \"bg-danger\": invoice.plan === \"pending\"\r\n                      })}\r\n                    >\r\n                      {invoice.plan}\r\n                    </small>\r\n                  </td>\r\n                  <td className=\"pl-0\">\r\n                    <i\r\n                      className=\"i-Arrow-Right mr-4 font-weight-900 text-primary cursor-pointer\"\r\n                      onClick={() => this.handeViewClick(invoice.id)}\r\n                    ></i>\r\n                    <i\r\n                      className=\"i-Folder-Trash font-weight-900 text-danger cursor-pointer\"\r\n                      onClick={() => {\r\n                        swal\r\n                          .fire({\r\n                            title: \"Are you sure?\",\r\n                            text: \"You won't be able to revert this!\",\r\n                            icon: \"warning\",\r\n                            type: \"question\",\r\n                            showCancelButton: true,\r\n                            confirmButtonColor: \"#3085d6\",\r\n                            cancelButtonColor: \"#d33\",\r\n                            confirmButtonText: \"Yes, delete it!\",\r\n                            cancelButtonText: \"No\"\r\n                          })\r\n                          .then(result => {\r\n                            if (result.value) {\r\n                              this.handleDeleteInvoice(invoice);\r\n                            }\r\n                          });\r\n                      }}\r\n                    ></i>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </Table>\r\n        </Card>\r\n        {/* <ConfirmationDialog\r\n          open={this.state.shouldShowConfirmationDialog}\r\n          onConfirmDialogClose={this.handleDialogClose}\r\n          onYesClick={this.handleDeleteInvoice}\r\n          text=\"Are you sure to delete?\"\r\n        /> */}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  firestoreConnect(() => ['users']), // or { collection: 'todos' }\r\n  connect((state, props) => ({\r\n    users: state.firestore.ordered.users\r\n  }))\r\n )(InvoiceList);\r\n"],"sourceRoot":""}